import{e as m}from"./emitter-E5P-NQ8u.js";import{_ as b}from"./ToastMessages-T9pMTygO.js";import{u as c,r as d,o as p,c as u,a,d as t,w as r,q as i,t as g,x as v,e as f,F as h,p as k}from"./index-DId58a1l.js";import"./component-functions-bQjxxvHY.js";const x={class:"navbar navbar-expand-lg bg-body-tertiary"},C={class:"container-fluid"},$={class:"collapse navbar-collapse",id:"navbarSupportedContent"},w={class:"navbar-nav me-auto"},T={__name:"Navbar",setup(_){const s=c(),l=async()=>{try{const o=await v.post("https://vue3-course-api.hexschool.io/logout");document.cookie="loginToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",s.push("/login")}catch(e){console.error("Error during log out:",e)}};return(e,o)=>{const n=d("router-link");return p(),u("nav",x,[a("div",C,[o[3]||(o[3]=a("a",{class:"navbar-brand",href:"#"},"Knit & Share",-1)),o[4]||(o[4]=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),a("div",$,[a("div",w,[t(n,{to:"/dashboard/products",class:"nav-link"},{default:r(()=>o[0]||(o[0]=[i("產品")])),_:1}),t(n,{to:"/dashboard/orders",class:"nav-link"},{default:r(()=>o[1]||(o[1]=[i("訂單")])),_:1}),t(n,{to:"/dashboard/coupons",class:"nav-link"},{default:r(()=>o[2]||(o[2]=[i("優惠券")])),_:1})]),a("a",{href:"#",onClick:g(l,["prevent"]),class:"nav-link mx-3"},"登出")])])])}}},y={class:"container-fluid position-relative"},R={__name:"Dashboard",setup(_){c(),k("emitter",m);const s=f(document.cookie.replace(/(?:(?:^|.*;\s*)loginToken\s*=\s*([^;]*).*$)|^.*$/,"$1"));return v.defaults.headers.common.Authorization=s.value,(l,e)=>{const o=d("RouterView");return p(),u(h,null,[t(T),a("div",y,[t(b),t(o)])],64)}}};export{R as default};
