import{e as p,l as m,h as b,c as r,a as t,F as v,z as f,A as e,b as y,D as k,t as h,K as g,o as a,u as x}from"./index-DxWNoie_.js";import{u as R}from"./cartStore-BrJ7COVD.js";const _={class:"my-5 row justify-content-center"},S={class:"table align-middle"},w={class:"table"},A={key:0},M={key:1,class:"text-success"},B={key:0,class:"text-start"},C={key:1,class:"text-start"},O={__name:"UserCheckout",setup(D){x();const i=g(),d=R(),n=p(i.params.orderId),s=m(()=>d.orderData),c=async()=>{try{await d.payOrder(n.value)}catch(u){console.error("Error during pay order:",u)}};return b(()=>{d.getOrder(n.value)}),(u,l)=>(a(),r("div",_,[t("form",{class:"col-md-6",onSubmit:h(c,["prevent"])},[t("table",S,[l[1]||(l[1]=t("thead",null,[t("tr",null,[t("th",null,"品名"),t("th",null,"數量"),t("th",null,"原價"),t("th",null,"優惠價")])],-1)),t("tbody",null,[(a(!0),r(v,null,f(s.value.products,o=>(a(),r("tr",{key:o.id},[t("td",null,e(o.product.title),1),t("td",null,e(o.qty)+" / "+e(o.product.unit),1),t("td",null,e(o.total),1),t("td",null,e(o.final_total),1)]))),128))]),t("tfoot",null,[t("tr",null,[l[0]||(l[0]=t("td",{colspan:"3",class:"text-end"},"總計",-1)),t("td",null,e(s.value.total),1)])])]),t("table",w,[t("tbody",null,[t("tr",null,[l[2]||(l[2]=t("th",{width:"100"},"Email",-1)),t("td",null,e(s.value.user.email),1)]),t("tr",null,[l[3]||(l[3]=t("th",null,"姓名",-1)),t("td",null,e(s.value.user.name),1)]),t("tr",null,[l[4]||(l[4]=t("th",null,"收件人電話",-1)),t("td",null,e(s.value.user.tel),1)]),t("tr",null,[l[5]||(l[5]=t("th",null,"收件人地址",-1)),t("td",null,e(s.value.user.address),1)]),t("tr",null,[l[6]||(l[6]=t("th",null,"付款狀態",-1)),t("td",null,[s.value.is_paid?(a(),r("span",M,"付款完成")):(a(),r("span",A,"尚未付款"))])])])]),s.value.is_paid===!1?(a(),r("div",B,l[7]||(l[7]=[y('<p class="mt-4 mb-2">付款方式</p><div class="form-check mb-2"><input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" checked><label class="form-check-label text-muted" for="gridRadios1">WebATM </label></div><div class="form-check mb-2"><input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2"><label class="form-check-label text-muted" for="gridRadios2">ATM </label></div><div class="form-check mb-5"><input class="form-check-input" type="radio" name="gridRadios" id="gridRadios3" value="option3"><label class="form-check-label text-muted" for="gridRadios3">ApplePay </label></div><button class="btn btn-dark py-3 px-7 rounded-0">確認付款去</button>',5)]))):s.value.is_paid===!0?(a(),r("div",C,l[8]||(l[8]=[t("button",{class:"btn btn-dark py-3 px-7 rounded-0 disabled"},"付款完成",-1)]))):k("",!0)],32)]))}};export{O as default};
