import{e as u,s as k,c,d as _,a as t,w as $,t as a,q as p,f as C,v as N,F as T,D as V,h as m,r as h,o as d,i as E,u as S}from"./index-2Dn1kYt-.js";import{u as B}from"./counter-EE2JcGaJ.js";import"./emitter-E5P-NQ8u.js";const D={class:"container"},L={class:"row justify-content-center align-items-center mt-5"},M={class:"col-md-6"},U=["src"],j={class:"col-md-5"},q={"aria-label":"breadcrumb"},F={class:"breadcrumb bg-white px-0 mb-0 py-3"},P={class:"breadcrumb-item"},R={class:"breadcrumb-item active","aria-current":"page"},I={class:"fw-bold h1 mb-1"},z={class:"text-muted"},A={key:0,class:"h4 fw-bold text-end"},G={key:1,class:"mb-0 text-muted text-end"},H={key:2,class:"h4 fw-bold text-end"},J={class:"row align-items-center"},K={class:"col-6"},O={class:"input-group my-3 bg-light rounded"},Q={class:"input-group-prepend"},W={class:"input-group-append"},X={class:"col-6"},ot={__name:"UserProduct",setup(Y){const g=B(),y=S(),x=V(),o=u({}),v=u(""),i=u(!1),s=u(1),f=async()=>{try{i.value=!0;const n=`https://vue3-course-api.hexschool.io/api/cart-yu2513/product/${v.value}`,e=await m.get(n);i.value=!1,o.value=e.data.product}catch(n){console.error("Error during get product:",n)}},w=async(n,e)=>{try{i.value=!0;const l={product_id:n,qty:e},r=await m.post("https://vue3-course-api.hexschool.io/api/cart-yu2513/cart",{data:l});i.value=!1,g.pushMessageState(r,"加入購物車"),y.push("/user/shop")}catch(l){console.error("Error during add to cart:",l)}};return k(()=>{v.value=x.params.productId,f()}),(n,e)=>{const l=h("Loading"),b=h("router-link");return d(),c(T,null,[_(l,{active:i.value},null,8,["active"]),t("div",D,[t("div",L,[t("div",M,[t("img",{src:o.value.imageUrl,alt:"產品圖片",style:{width:"100%",height:"500px","object-fit":"cover"},class:"img-fluid mb-3"},null,8,U)]),t("div",j,[t("nav",q,[t("ol",F,[t("li",P,[_(b,{to:"/user/shop"},{default:$(()=>e[4]||(e[4]=[E("Cart")])),_:1})]),t("li",R,a(o.value.title),1)])]),t("h2",I,a(o.value.title),1),t("p",null,a(o.value.content),1),t("p",z,a(o.value.description),1),o.value.price?p("",!0):(d(),c("p",A,"NT$"+a(o.value.origin_price),1)),o.value.price?(d(),c("p",G,[t("del",null,"NT$"+a(o.value.origin_price),1)])):p("",!0),o.value.price?(d(),c("p",H,"NT$"+a(o.value.price),1)):p("",!0),t("div",J,[t("div",K,[t("div",O,[t("div",Q,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon1",onClick:e[0]||(e[0]=r=>s.value>1?s.value--:s.value)},e[5]||(e[5]=[t("i",{class:"bi bi-dash-lg"},null,-1)]))]),C(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>s.value=r),class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",value:"1"},null,512),[[N,s.value]]),t("div",W,[t("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",id:"button-addon2",onClick:e[2]||(e[2]=r=>s.value++)},e[6]||(e[6]=[t("i",{class:"bi bi-plus-lg"},null,-1)]))])])]),t("div",X,[t("button",{type:"button",class:"text-nowrap btn btn-dark w-100 py-2",onClick:e[3]||(e[3]=r=>w(o.value.id,s.value))},"加入購物車")])])])])])],64)}}};export{ot as default};
